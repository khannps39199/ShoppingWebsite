<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Qu·∫£n l√Ω ƒë∆°n h√†ng</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <style>
        /* T√πy ch·ªânh giao di·ªán b·∫£ng */
        .table {
            border-radius: 10px;
            overflow: hidden;
        }
        thead {
            background-color: #343a40;
            color: white;
        }
        tbody tr:hover {
            background-color: #f8f9fa;
        }

        /* CƒÉn ch·ªânh n√∫t b·∫•m */
        .btn-status {
            width: 160px;
        }

        /* M√†u s·∫Øc cho tr·∫°ng th√°i */
        .status-pending {
            color: #ffc107; /* V√†ng */
            font-weight: bold;
        }
        .status-processing {
            color: #17a2b8; /* Xanh d∆∞∆°ng */
            font-weight: bold;
        }
        .status-shipped {
            color: #28a745; /* Xanh l√° */
            font-weight: bold;
        }
        .status-delivered {
            color: #6c757d; /* X√°m */
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container mt-4">
        <h2 class="mb-4 text-center">üöö Qu·∫£n l√Ω ƒë∆°n h√†ng ƒëang giao</h2>

        <!-- Hi·ªÉn th·ªã th√¥ng b√°o -->
        <div th:if="${success}" class="alert alert-success" th:text="${success}"></div>
        <div th:if="${error}" class="alert alert-danger" th:text="${error}"></div>

        <table class="table table-bordered text-center shadow">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>T√™n kh√°ch h√†ng</th>
                    <th>S·ªë ƒëi·ªán tho·∫°i</th>
                    <th>ƒê·ªãa ch·ªâ</th>
                    <th>S·ªë ti·ªÅn</th>
                    <th>Ph∆∞∆°ng th·ª©c thanh to√°n</th>
                    <th>Tr·∫°ng th√°i</th>
                    <th>H√†nh ƒë·ªông</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="order : ${orders}">
                    <td th:text="${order.orderId}"></td>
                    <td th:text="${order.user.fullName}"></td>
                    <td th:text="${order.user.phone}"></td>
                    <td th:text="${order.shippingAddress}"></td>
                    <td th:text="${order.totalAmount} + ' VNƒê'"></td>
                    <td th:text="${order.paymentMethod}"></td>
                    <td>
                        <span th:text="${order.status}"
                              th:classappend="${order.status == 'Pending'} ? 'status-pending' :
                                              (${order.status == 'Processing'} ? 'status-processing' :
                                              (${order.status == 'Shipped'} ? 'status-shipped' :
                                              'status-delivered'))">
                        </span>
                    </td>
                    <td>
                        <form th:action="@{/shipper/update-status}" method="post">
                            <input type="hidden" name="orderId" th:value="${order.orderId}">
                            <button type="submit" class="btn btn-success btn-status">
                                thay ƒë·ªïi tr·∫°ng th√°i
                            </button>
                        </form>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Bootstrap Script -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
